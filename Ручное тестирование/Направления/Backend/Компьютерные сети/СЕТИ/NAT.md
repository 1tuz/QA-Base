# NAT

- **Что такое NAT**:  
    NAT (Network Address Translation) — это технология, которая позволяет устройствам с серыми IP-адресами выходить в интернет через общий белый IP.
    
- **Как работает**:
    
    - **Первый случай (белый IP есть)**:
        
        - У тебя есть белый IP (например, 91.105.8.10).
        - Роутер преобразует локальные серые адреса (например, 192.168.1.3) в белый IP, чтобы устройство могло общаться с интернетом.
    Схема
        ![[Pasted image 20250103120113.png]]
    - **Второй случай (белого IP нет)**:
        
        - Роутер сначала преобразует локальный серый IP (192.168.1.3) в другой серый IP, который выдаёт провайдер (например, 172.17.115.3).
        - Этот серый IP провайдера уже через свой NAT превращается в общий белый IP, доступный в интернете.
        - В итоге устройство находится за **двойным NAT**.
    Схема
        ![[Pasted image 20250103120133.png]]
- **Минусы двойного NAT**:
    
    - Нестабильность VoIP (телефония) и других сервисов, требующих прямого подключения.
    - Проблемы с портами, которые нужны для работы приложений.
- **Плюс**:
    
    - Увеличивает безопасность (меньше шансов быть взломанным напрямую).