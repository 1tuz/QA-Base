---
sticker: emoji//1f9be
---
**1. Что такое локатор?**
## Кратко
Локатор — это способ, с помощью которого вы идентифицируете элемент на странице. Например, вы хотите нажать на кнопку “Войти” на веб-сайте. Чтобы автотест нашел эту кнопку, вам нужно указать её уникальный “адрес” (локатор).

Используйте правило: **чем проще и надежнее, тем лучше**. Вот рекомендованный **порядок** выбора локаторов(**по возрастанию**):

1. **ID** — уникальный идентификатор элемента, если он есть.
2. **Name** — имя элемента, если ID отсутствует.
3. **CSS-селектор** — удобный способ для поиска элементов по классу, атрибутам или их комбинации.
4. **XPath** — используйте, если предыдущие способы недоступны.
5. **Текст с регулярными выражениями** — применяйте, когда текст элемента динамический или имеет вариации.
---

## Ниже идёт подробное описание

**2. Основные типы локаторов**

**1. По ID**

ID элемента — это самый надежный и предпочтительный способ, если ID уникален на странице.

driver.find_element(By.ID, "loginButton")

Пример HTML:

<button id="loginButton">Войти</button>

**2. По имени (Name)**

Если у элемента есть атрибут name, его тоже можно использовать.

driver.find_element(By.NAME, "username")

Пример HTML:

<input type="text" name="username" />

**3. По CSS-селектору**

CSS-селекторы дают гибкость в написании локаторов.

driver.find_element(By.CSS_SELECTOR, ".button.submit")

Пример HTML:

<button class="button submit">Отправить</button>

**4. По XPath**

XPath — это язык, который позволяет указывать точное расположение элемента в DOM.

driver.find_element(By.XPATH, "//button[text()='Войти']")

Пример HTML:

<button>Войти</button>

**5. С использованием регулярных выражений в XPath**

Регулярные выражения позволяют найти элементы с текстом, который частично совпадает или содержит паттерн.

driver.find_element(By.XPATH, "//button[contains(text(), 'Войд')]")

Или:

driver.find_element(By.XPATH, "//button[matches(text(), 'Войти|Login')]")

Пример HTML:

<button>Войти</button>


**3. Рекомендации по созданию локаторов**

6. **Старайтесь избегать хрупких локаторов.**

Локаторы, которые зависят от текста (//button[text()='Войти']), могут “сломаться”, если текст на кнопке изменится.

7. **Убедитесь, что локатор уникален.**

Проверьте, что ваш локатор находит только один элемент на странице. Для этого можно использовать инструменты браузера (DevTools).

8. **Используйте сокращение текста.**

Иногда текст на странице может содержать переносы или пробелы, из-за чего ваш локатор может не сработать. Используйте функции вроде contains() для поиска частичного совпадения текста.

driver.find_element(By.XPATH, "//button[contains(text(), 'Войд')]")

9. **Работа с переносами текста.**

Если текст элемента разбит переносами (<br> или \n), используйте XPath с функцией normalize-space():

driver.find_element(By.XPATH, "//*[normalize-space(text())='Войти']")

10. **Избегайте длинных XPath.**

XPath вроде //div[1]/div[2]/ul/li[3]/a очень уязвимы, так как структура DOM может измениться.

11. **Сотрудничайте с разработчиками.**

Если страницы вашего приложения имеют неудобные или повторяющиеся идентификаторы, попросите разработчиков добавлять уникальные атрибуты (id, data-testid, aria-label) для тестирования.

**4. Инструменты для работы с локаторами**

• **DevTools в браузере**

12. Нажмите F12, чтобы открыть инструменты разработчика.

13. Нажмите на иконку “Выбрать элемент на странице” (стрелка или курсор).

14. Наведите курсор на нужный элемент и посмотрите его HTML-код.

• **Проверка XPath и CSS-селекторов**

15. В консоли DevTools можно проверить локатор:

$x("//button[contains(text(), 'Войд')]") _// Проверка XPath_

document.querySelector(".button.submit") _// Проверка CSS-селектора_

**5. Примеры поиска локаторов**

**Пример 1: Кнопка “Войти”**

HTML-код:

<button id="loginButton" class="btn primary">Войти</button>

Подходящие локаторы:

• By.ID: "loginButton" — предпочтительный.

• By.CLASS_NAME: "btn primary" — если ID недоступен.

• By.XPATH: "//button[contains(text(), 'Войд')]" — если текст частично совпадает.

**Пример 2: Поле ввода “Имя пользователя”**

HTML-код:

<input type="text" name="username" placeholder="Введите имя пользователя" />

Подходящие локаторы:

• By.NAME: "username"

• By.CSS_SELECTOR: "input[name='username']"

**Пример 3: Элемент с динамическим текстом**

HTML-код:

<button>Продолжить<br>регистрацию</button>

Локатор:

• By.XPATH: "//*[normalize-space(text())='Продолжить регистрацию']"