#decorators #python #–∞–≤—Ç–æ—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ #–∫–æ–¥

## **–ö–†–ê–¢–ö–û**

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä‚ÄØ‚Äî —ç—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ –≤–æ–∫—Ä—É–≥ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–ª–∏ –º–µ—Ç–æ–¥–∞/–∫–ª–∞—Å—Å–∞), –∫–æ—Ç–æ—Ä–∞—è –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞–∫–æ–π‚Äë—Ç–æ –∫–æ–¥ ¬´–¥–æ¬ª –∏/–∏–ª–∏ ¬´–ø–æ—Å–ª–µ¬ª –µ—ë –≤—ã–∑–æ–≤–∞, –Ω–µ –º–µ–Ω—è—è –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.**

‚úÖ **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
    
- –ß–∏—Å—Ç—ã–π –∫–æ–¥: –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è ¬´–¥–æ/–ø–æ—Å–ª–µ¬ª –ª–æ–≥–∏–∫–∏
    
- –Ø–≤–Ω–∞—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ `@`
    

---

## **–ü–û–î–†–û–ë–ù–û–ï –ü–†–û–î–û–õ–ñ–ï–ù–ò–ï**

‚úÖ **1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ (–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤):**

- –í–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `func`.
    
- –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è (`wrapper`) –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—ã–∑–æ–≤: –¥–µ–ª–∞–µ—Ç —á—Ç–æ‚Äë—Ç–æ –¥–æ, –≤—ã–∑—ã–≤–∞–µ—Ç `func` –∏ –¥–µ–ª–∞–µ—Ç —á—Ç–æ‚Äë—Ç–æ –ø–æ—Å–ª–µ.
    
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º `wrapper`.
    

```python
def my_decorator(func):
    def wrapper(*args, **kwargs):
        print("üîπ –î–æ –≤—ã–∑–æ–≤–∞")
        result = func(*args, **kwargs)
        print("üîπ –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞")
        return result
    return wrapper
```

‚úÖ **2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º `@`:**

```python
@my_decorator
def say_hello(name):
    print(f"Hello, {name}!")

say_hello("Alice")
```

üëâ –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `say_hello` —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `wrapper`.

---

‚úÖ **3. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**

- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å ¬´—Ñ–∞–±—Ä–∏–∫–∏¬ª:
    

```python
def repeat(n):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for _ in range(n):
                func(*args, **kwargs)
        return wrapper
    return decorator
```

```python
@repeat(3)
def greet(name):
    print(f"Hi, {name}!")
```

---

‚úÖ **4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏:**  
–ß—Ç–æ–±—ã `wrapper` ¬´–ø—Ä–∏–∫–∏–¥—ã–≤–∞–ª—Å—è¬ª –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º (–∏–º—è, docs, —Å–∏–≥–Ω–∞—Ç—É—Ä–∞), –∏—Å–ø–æ–ª—å–∑—É–µ–º `functools.wraps`:

```python
from functools import wraps

def my_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        # ...
        return func(*args, **kwargs)
    return wrapper
```

---

‚úÖ **5. –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤:**

```python
@dec1
@dec2
def func(): ...
# —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: func = dec1(dec2(func))
```

---

üîπ **–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ ¬´–∫–æ–Ω—Ñ–∏–≥–∞¬ª –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:**

```python
from functools import wraps

def log_and_time(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        print(f"[LOG] –í—ã–∑–æ–≤ {func.__name__} —Å args={args}, kwargs={kwargs}")
        start = __import__('time').time()
        result = func(*args, **kwargs)
        elapsed = __import__('time').time() - start
        print(f"[TIME] {func.__name__} –∑–∞–Ω—è–ª–∞ {elapsed:.4f} —Å, –≤–µ—Ä–Ω—É–ª–∞ {result!r}")
        return result
    return wrapper

@log_and_time
def add(a, b):
    return a + b

add(5, 7)
```